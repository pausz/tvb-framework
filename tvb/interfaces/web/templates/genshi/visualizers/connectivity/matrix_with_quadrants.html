<py:def function="draw2DConnectivityMatrix(hemisphereId, nr, weights, pointsLabels, startHemisphereIdx, endHemisphereIdx, startHemisphereIdy, endHemisphereIdy, prefix)" xmlns:py="http://genshi.edgewall.org/">
       <div id="${hemisphereId}">
	       <table>
	    		<thead>
	    			<tr>
						<!-- Quadrant selector -->
						<th>
							<nav class="inline-menu quadrant-selector">
								<button class="action action-menu">Q ${nr+1}</button>
			
								<div class="extension">
									<div class="dropdown-pane">
										<mark>Select a quadrant to work with:</mark>
										<ul>
											<li class="${'active' if nr==i else ''}" onclick="selectHemisphere($i)" tabindex="7" onkeypress="fireOnClick(this)" py:for="i in range(4)">
												<a href="#" title="Select this quadrant" onclick="selectHemisphere($i)">Quadrant ${i+1}</a>
											</li>
										</ul>
					    			</div>
					    		</div>
							</nav>
						</th>
						
						<!-- Horizontal column headers -->
						<py:for each="i in range(startHemisphereIdx, endHemisphereIdx)">
							<th id="upper_change_${i}_${hemisphereId}" onclick="changeEntireColumn(this)"
								scope="col" class="" tabindex="8" onkeypress="fireOnClick(this)" title='${pointsLabels[i]}'>
								<a href="#" tabindex='-1' title='${pointsLabels[i]}' class="action-select select-col">${pointsLabels[i]}</a>
							</th>
						</py:for>
					</tr>
	    		</thead>
	    		
	    		<!-- Table rows -->
	    		<tbody>
	    			<py:for each="i in range(startHemisphereIdy, endHemisphereIdy)">
	    				<tr class="">
	    					<!-- Header cell -->
		    				<td id="left_change_${i}_${hemisphereId}" onclick="changeEntireRow(this, ${startHemisphereIdx}, ${endHemisphereIdx})" 
		    					scope="row" class="identifier" title="${'0' + str(i) if i &lt; 10 else str(i)}" tabindex="9" onkeypress="fireOnClick(this)">
		    					<a href="#" title="${'0' + str(i) if i &lt; 10 else str(i)}" tabindex='-1' class="action-select select-row">${pointsLabels[i]}</a>
		    				</td>
		    				
		    				<!-- Actual node cells -->
		    				<py:for each="j in range(startHemisphereIdx, endHemisphereIdx)">
				    			<td id='td_${prefix}_${i}_${j}' class="node" onclick="changeSingleCell(this, $i, $j)" tabindex="9" onkeypress="fireOnClick(this)"></td>
			    			</py:for>
		    			</tr>
	    			</py:for>
	    		</tbody>
	    	</table>
    	</div>
</py:def>
